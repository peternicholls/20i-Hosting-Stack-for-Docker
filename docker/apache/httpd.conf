# Apache HTTP Server Configuration File
#
# This is the main Apache HTTP server configuration file.

ServerRoot "/usr/local/apache2"

# Listen on port 80
Listen 80

# Modules
LoadModule mpm_event_module modules/mod_mpm_event.so
LoadModule authz_core_module modules/mod_authz_core.so
LoadModule dir_module modules/mod_dir.so
LoadModule mime_module modules/mod_mime.so
LoadModule rewrite_module modules/mod_rewrite.so
LoadModule headers_module modules/mod_headers.so

# Basic settings
ServerAdmin webmaster@localhost
ServerName localhost:80

# Document root
DocumentRoot "/usr/local/apache2/htdocs"

# Directory permissions
<Directory "/usr/local/apache2/htdocs">
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory>

# Directory index
DirectoryIndex index.html index.php

# MIME types
TypesConfig conf/mime.types

# Error and access logs
ErrorLog /proc/self/fd/2
LogLevel warn
LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
CustomLog /proc/self/fd/1 combined

# Security headers
Header always set X-Content-Type-Options nosniff
Header always set X-Frame-Options DENY
Header always set X-XSS-Protection "1; mode=block"

# Enable .htaccess files
<Directory "/usr/local/apache2/htdocs">
    AllowOverride All
</Directory>

# PHP configuration (uncomment if using PHP)
# LoadModule php_module modules/libphp.so
# AddType application/x-httpd-php .php
# DirectoryIndex index.php index.html
